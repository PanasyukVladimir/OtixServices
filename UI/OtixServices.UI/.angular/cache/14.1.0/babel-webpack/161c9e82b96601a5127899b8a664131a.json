{"ast":null,"code":"import _classCallCheck from \"D:/progect/black-dashboard-angular-master/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/progect/black-dashboard-angular-master/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { AuthService } from \"src/app/services/auth.service\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/auth.service\";\nimport * as i2 from \"@angular/forms\";\nexport var UserComponent = /*#__PURE__*/(function () {\n  var UserComponent = /*#__PURE__*/function () {\n    function UserComponent(authService) {\n      _classCallCheck(this, UserComponent);\n\n      this.authService = authService;\n      this.user = {\n        Name: '',\n        Email: '',\n        EmailConfirmed: '',\n        PhoneNumber: '',\n        PhoneNumberConfirmed: '',\n        birthday: ''\n      };\n      this.imgUrl = 'https://i.redd.it/taai6zguhds61.png';\n      this.isAuth = this.authService.checkAuth();\n      this.userId = localStorage.getItem('Id'); //birthdayUser: string = new Date().toDateString();\n\n      this.birthdayUser = localStorage.getItem('birthdayUser');\n      this.newUserName = localStorage.getItem('UserName');\n    }\n\n    _createClass(UserComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        var _this = this;\n\n        if (this.isAuth) {\n          //console.log(typeof (this.userId));\n          this.authService.getUserInfo(this.userId).subscribe(function (data) {\n            console.log(data);\n            _this.user.Name = data.name;\n            _this.user.Email = data.email;\n            _this.user.EmailConfirmed = data.emailConfirmed;\n            _this.user.PhoneNumber = data.phoneNumber;\n            _this.user.PhoneNumberConfirmed = data.phoneNumberConfirmed;\n            console.log(_this.user);\n          }, function (error) {\n            console.log(error);\n          });\n        }\n      }\n    }, {\n      key: \"SetBirthday\",\n      value: function SetBirthday(event) {\n        console.log(event.target.value);\n        localStorage.setItem('birthdayUser', event.target.value);\n      }\n    }, {\n      key: \"SetNewName\",\n      value: function SetNewName(event) {\n        console.log(event.target.value);\n        localStorage.setItem('UserName', event.target.value);\n      }\n      /*\r\n        ChangeImg() {\r\n          this.imgUrl = 'https://i.imgflip.com/57zddg.jpg'\r\n        }*/\n\n    }, {\n      key: \"DeleteUser\",\n      value: function DeleteUser() {\n        var _this2 = this;\n\n        this.authService.delete({\n          id: this.userId,\n          name: this.newUserName\n        }).subscribe(function (res) {\n          alert(\"deleted account successfull\");\n          console.log(res);\n\n          if (res == \"true\") {\n            localStorage.clear();\n            _this2.isAuth = true;\n          }\n        }, function (error) {\n          alert(\"deleted account fail\");\n          console.log(error);\n        });\n        ;\n      } ///TODO\n\n    }, {\n      key: \"EditUser\",\n      value: function EditUser() {\n        this.authService.edit({\n          id: this.userId,\n          name: this.newUserName\n        }).subscribe(function (res) {\n          alert(\"Change UserName successfull\");\n          console.log(res);\n        }, function (error) {\n          alert(\"Change UserName fail\");\n          console.log(error);\n        });\n      }\n    }]);\n\n    return UserComponent;\n  }();\n\n  UserComponent.ɵfac = function UserComponent_Factory(t) {\n    return new (t || UserComponent)(i0.ɵɵdirectiveInject(i1.AuthService));\n  };\n\n  UserComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UserComponent,\n    selectors: [[\"app-user\"]],\n    decls: 72,\n    vars: 7,\n    consts: [[1, \"content\"], [1, \"row\"], [1, \"col-md-8\"], [1, \"card\"], [1, \"card-header\"], [1, \"title\"], [1, \"card-body\"], [1, \"col-md-3\", \"px-md-1\"], [1, \"form-group\"], [\"placeholder\", \"Username\", \"type\", \"text\", 1, \"form-control\", 3, \"value\", \"input\"], [1, \"col-md-4\", \"pl-md-1\"], [\"for\", \"exampleInputEmail1\"], [\"disabled\", \"\", \"placeholder\", \"\", \"type\", \"text\", 1, \"form-control\", 3, \"value\"], [1, \"col-md-5\", \"pr-md-1\"], [1, \"col-md-6\", \"pr-md-1\"], [\"disabled\", \"\", \"placeholder\", \"\", \"type\", \"number\", 1, \"form-control\", 3, \"value\"], [1, \"col-md-6\", \"pl-md-1\"], [1, \"col-md-12\"], [\"placeholder\", \"Birthday\", \"type\", \"date\", 1, \"form-control\", 3, \"value\", \"input\"], [1, \"card-footer\"], [\"type\", \"submit\", 1, \"btn\", \"btn-fill\", \"btn-danger\", 3, \"click\"], [1, \"col-md-4\"], [1, \"card\", \"card-user\"], [1, \"card-text\"], [1, \"author\"], [1, \"block\", \"block-one\"], [1, \"block\", \"block-two\"], [1, \"block\", \"block-three\"], [1, \"block\", \"block-four\"], [\"href\", \"javascript:void(0)\"], [\"alt\", \"...\", \"src\", \"https://limpopo-club.kiev.ua/wp-content/themes/limpopo/assets/img/default-user-image.png\", 1, \"avatar\"], [1, \"description\"], [1, \"card-description\"], [1, \"button-container\"], [\"href\", \"javascript:void(0)\", 1, \"btn\", \"btn-icon\", \"btn-round\", \"btn-facebook\"], [1, \"fab\", \"fa-facebook\"], [\"href\", \"javascript:void(0)\", 1, \"btn\", \"btn-icon\", \"btn-round\", \"btn-twitter\"], [1, \"fab\", \"fa-twitter\"], [\"href\", \"javascript:void(0)\", 1, \"btn\", \"btn-icon\", \"btn-round\", \"btn-google\"], [1, \"fab\", \"fa-google-plus\"]],\n    template: function UserComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h5\", 5);\n        i0.ɵɵtext(6, \"Edit Profile\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"div\", 6)(8, \"form\")(9, \"div\", 1)(10, \"div\", 7)(11, \"div\", 8)(12, \"label\");\n        i0.ɵɵtext(13, \" Username \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"input\", 9);\n        i0.ɵɵlistener(\"input\", function UserComponent_Template_input_input_14_listener($event) {\n          return ctx.SetNewName($event);\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(15, \"div\", 10)(16, \"div\", 8)(17, \"label\", 11);\n        i0.ɵɵtext(18, \" Email address \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(19, \"input\", 12);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"div\", 13)(21, \"div\", 8)(22, \"label\");\n        i0.ɵɵtext(23, \" Email confirmed \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(24, \"input\", 12);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(25, \"div\", 1)(26, \"div\", 14)(27, \"div\", 8)(28, \"label\");\n        i0.ɵɵtext(29, \" Phone number \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(30, \"input\", 15);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(31, \"div\", 16)(32, \"div\", 8)(33, \"label\");\n        i0.ɵɵtext(34, \" Phone number confirmed \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(35, \"input\", 12);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(36, \"div\", 1)(37, \"div\", 17)(38, \"div\", 8)(39, \"label\");\n        i0.ɵɵtext(40, \" Birthday \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"input\", 18);\n        i0.ɵɵlistener(\"input\", function UserComponent_Template_input_input_41_listener($event) {\n          return ctx.SetBirthday($event);\n        });\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(42, \"div\", 19)(43, \"button\", 20);\n        i0.ɵɵlistener(\"click\", function UserComponent_Template_button_click_43_listener() {\n          return ctx.EditUser();\n        });\n        i0.ɵɵtext(44, \"Save\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"button\", 20);\n        i0.ɵɵlistener(\"click\", function UserComponent_Template_button_click_45_listener() {\n          return ctx.DeleteUser();\n        });\n        i0.ɵɵtext(46, \"Delete\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(47, \"div\", 21)(48, \"div\", 22)(49, \"div\", 6);\n        i0.ɵɵelement(50, \"p\", 23);\n        i0.ɵɵelementStart(51, \"div\", 24);\n        i0.ɵɵelement(52, \"div\", 25)(53, \"div\", 26)(54, \"div\", 27)(55, \"div\", 28);\n        i0.ɵɵelementStart(56, \"a\", 29);\n        i0.ɵɵelement(57, \"img\", 30);\n        i0.ɵɵelementStart(58, \"h5\", 5);\n        i0.ɵɵtext(59);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(60, \"p\", 31);\n        i0.ɵɵtext(61, \"User/User\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(62, \"div\", 32);\n        i0.ɵɵtext(63, \" There is nothing wrong with a person owning wealth. But it is bad if wealth takes possession of a person. \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(64, \"div\", 19)(65, \"div\", 33)(66, \"button\", 34);\n        i0.ɵɵelement(67, \"i\", 35);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(68, \"button\", 36);\n        i0.ɵɵelement(69, \"i\", 37);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(70, \"button\", 38);\n        i0.ɵɵelement(71, \"i\", 39);\n        i0.ɵɵelementEnd()()()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(14);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.user.Name);\n        i0.ɵɵadvance(5);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.user.Email);\n        i0.ɵɵadvance(5);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.user.EmailConfirmed);\n        i0.ɵɵadvance(6);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.user.PhoneNumber);\n        i0.ɵɵadvance(5);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.user.PhoneNumberConfirmed);\n        i0.ɵɵadvance(6);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.birthdayUser);\n        i0.ɵɵadvance(18);\n        i0.ɵɵtextInterpolate(ctx.user.Name);\n      }\n    },\n    dependencies: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.NgForm],\n    encapsulation: 2\n  });\n  return UserComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}